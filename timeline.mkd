# raw timeline

## important tags:
Question

## 11 March 2019 - 17 March 2019

### 11 March
1. repo <https://github.com/j0k/data2waves>
2. get WAVES on TESTNET <http://testnet.wavesexplorer.com/faucet>
3. multisignature trx <http://testnet.wavesexplorer.com/tx/2RmduSXxCia9F8M8Ls1C3nBA968dB1XwHP5uoTPpTxhE>
4. pywave tools <https://github.com/PyWaves/pywavestools>
5. setScript function <https://github.com/PyWaves/PyWaves/blob/master/address.py>
6. waves transactions <https://wavesplatform.github.io/waves-transactions/globals.html#setscript>
7. Waves IDE <https://testnet.wavesplatform.com/>
8. Script transaction <https://docs.wavesplatform.com/en/waves-client/advanced_features/script_transaction.html>
9. Waves Smart Contract example <https://www.youtube.com/watch?v=OIQoheOYJw8>

  5:30 change JSON


### 12 March
1. repo <https://github.com/j0k/waves_understanding>
2. #tofix <https://blog.wavesplatform.com/the-hitchhikers-guide-to-waves-smart-contracts-part-2-44621fd5a007>
   check lot of links like:
   + https://wavesplatform.com/files/docs/white_paper_waves_smart_contracts.pdf
   + https://docs.wavesplatform.com/en/technical-details/waves-contracts-language-description/language-description.html
   + https://docs.wavesplatform.com/en/technical-details/waves-contracts-language-description/standard-library.html
3. Waves Discord Communication channels <https://discordapp.com/invite/cnFmDyA>
4. #Question Can I save dataTrx using sponsorship tokens inside waves?
5. Waves console https://demo.wavesplatform.com/example/console
6. #tofix link to [jsconsole](https://github.com/remy/jsconsole) here <https://demo.wavesplatform.com/example/console>
7. Waves Smart Contract :: console example - <https://www.youtube.com/watch?v=sOZuE9Ebfko>
8. Decompile RIDE code <https://nodes.wavesnodes.com/api-docs/index.html#!/utils/decompile_1>
  + [note on decompile endpoint](https://github.com/wavesplatform/Waves/releases) with "script decompiler API endpoint available at /utils/script/decompile"
  + <https://nodes.wavesnodes.com/utils/script/decompile>
  + code: AQQAAAAFcEtleTABAAAAIHvdERXb58cxFQRsfxdCoFv5h4/76PUTAp/52BoHuv50BAAAAAVwS2V5MQEAAAAgZFVpkmX9Jd05Yji7z9DP3h5AXa3oS9Qhlifbk/iOUkkEAAAAC3BLZXkwU2lnbmVkAwkAAfQAAAADCAUAAAACdHgAAAAJYm9keUJ5dGVzCQABkQAAAAIIBQAAAAJ0eAAAAAZwcm9vZnMAAAAAAAAAAAAFAAAABXBLZXkwAAAAAAAAAAABAAAAAAAAAAAABAAAAAtwS2V5MVNpZ25lZAMJAAH0AAAAAwgFAAAAAnR4AAAACWJvZHlCeXRlcwkAAZEAAAACCAUAAAACdHgAAAAGcHJvb2ZzAAAAAAAAAAABBQAAAAVwS2V5MQAAAAAAAAAAAQAAAAAAAAAAAAkAAGcAAAACCQAAZAAAAAIFAAAAC3BLZXkwU2lnbmVkBQAAAAtwS2V5MVNpZ25lZAAAAAAAAAAAAhE4uF8=
  + return
  ```
  {
  "script": "{
     let pKey0 = base58'9LWfF7zhuDC7prC7xGGusygrzDFe6JsuEs3Mp22zBQ4B';
    {
        let pKey1 =   base58'7kfJvEMLxPxn7je8GtUtjQqGonaNAmESWVvpLy6VLS2t';
        {
            let pKey0Signed =
                {
                    if (
                        sigVerify(tx.bodyBytes, getElement(tx.proofs, 0), pKey0)
                    )
                    then
                        1
                    else
                        0
                };
            {
                let pKey1Signed =
                    {
                        if (
                            sigVerify(tx.bodyBytes, getElement(tx.proofs, 1), pKey1)
                        )
                        then
                            1
                        else
                            0
                    };
                ((pKey0Signed + pKey1Signed) >= 2)
            }
        }
    }
}"  
```
9. Fine Code: <https://medium.com/@ikardanov/create-your-first-crypto-trading-bot-390e3f9037e1>

### 13 March
1. script and transaction <https://docs.wavesplatform.com/en/waves-client/advanced_features/script_transaction.html>
2. arch v0.1 <https://github.com/j0k/data2waves/blob/master/docs/arch_v0.1.mkd>


### 18 March
1. waves-transaction 2 webpack bundle.js
2. npm install -g ts-node
3. npm install
4. npm run build
5. webpack.conf.json

### 20 March
1. https://github.com/wavesplatform/waves-c/
2. https://github.com/wavesplatform/waves-c/blob/master/src/crypto/waves_crypto.c
3. we have libs for encrypt-decrypt inside waves-signatures (find it) and waves-keeper (AES)
4. https://github.com/wavesplatform/waves-signature-generator/
5. https://github.com/bachan/coda/blob/master/coda/cache.tcc
6. https://github.com/chainify/waveskeeper/commit/e739f3187eef00954178021f7f0e68734ddddc4c

### 25 March
1. free text
2. http://book.pythontips.com/en/latest/python_c_extension.html
3. RSA_example.py https://gist.github.com/syedrakib/241b68f5aeaefd7ef8e2
4. https://stackoverflow.com/questions/11016078/is-it-possible-to-create-a-function-dynamically-during-runtime-in-c
5. https://docs.wavesplatform.com/en/waves-environment/waves-protocol/data-structures.html#section-884d9804999fc47a3c2694e49ad2536a
6. https://github.com/wavesplatform/waves-c/blob/master/src/crypto/waves_crypto.c

### 12 April Smartcontracts
1. Smart-contact orig docs - https://docs.wavesplatform.com/en/smart-contracts/video-tutorials-and-articles.html
2. Waves IDE - https://ide.wavesplatform.com/
3. https://docs.wavesplatform.com/en/smart-contracts/ride4dapps/overview.html
4. (?all) function with types: https://cdn.rawgit.com/wavesplatform/waves-documentation/master/en/doc.html
5. internal https://wavesplatform.atlassian.net/wiki/spaces/MAIN/pages/823197754/Smart+Contract
6. internal https://wavesplatform.atlassian.net/wiki/spaces/MAIN/pages/1153892391/RIDE+4+DAPPS
7. Some RIDE examples: https://github.com/wavesplatform/ride-examples


### 14 April
1. https://www.youtube.com/watch?v=k7gK7FgUFiU
```

@Callable(i)

@Verifier(txx)

Script and Data associated with account

no automatic triggers

state machine
1:22

lse ScriptResult(
                    WriteSet([
                        DataEntry(xxxStartupFund, newAmount)
                        ]),
                    TransferSet([ScriptTransfer(i.caller, amount, unit)])
                )
```

### 15 April

1. https://docs.wavesplatform.com/en/smart-contracts/ride-language/standard-library.html
2. тратиться ли вычисления если false
3.

```
@Callable(i)
func addOwner(addrAddOwner: String) = {    
    let myAddr = toBase58String(this)
    let addrCallerOwner = toBase58String(i.caller.bytes) + "_owner"
    let keyQueryOwner = addrAddOwner + "_owner"

    let ownerExist = match getInteger(this, keyQueryOwner){
        case a:Int => 1
        case _ => 0
    }

    if (myAddr == addrCallerOwner) and (!ownerExist)
        WriteSet([DataEntry(keyQueryOwner, 1)])    
}

```

```
{-# STDLIB_VERSION 3 #-}
{-# CONTENT_TYPE DAPP #-}
{-# SCRIPT_TYPE ACCOUNT #-}

```

```
let myAddr = toBase58String(this)

this.bytes.toBase58String()
```


```

@Callable(i)
func addOwner(addrAddOwner: String) = {    
    let myAddr = this.bytes.toBase58String()
    let addrCallerOwner = toBase58String(i.caller.bytes) + "_owner"
    let keyQueryOwner = addrAddOwner + "_owner"

    let ownerExist = match getInteger(this, keyQueryOwner){
        case a:Int => 1
        case _ => 0
    }

    if (myAddr == addrCallerOwner) then (
        WriteSet([DataEntry(keyQueryOwner, 1)])
    ) else (true)
}
```


```
@Callable(i)
func addOwner(addrAddOwner: String) = {    
    let myAddr = this.bytes.toBase58String()
    let addrCallerOwner = toBase58String(i.caller.bytes) + "_owner"
    let keyQueryOwner = addrAddOwner + "_owner"

    let ownerExist = match getInteger(this, keyQueryOwner){
        case a:Int => 1
        case _ => 0
    }

    if (myAddr == addrCallerOwner) then (
        WriteSet([DataEntry(keyQueryOwner, 1)])
    ) else throw("Nothing to do")
}

seed = patrol random prepare script diet scissors demise pole ancient shrimp desert glimpse
```

need to do verify
```
@Callable(i)
func addOwner(addrAddOwner: String) = {    
    let myAddr = this.bytes.toBase58String()
    let addrCallerOwner = toBase58String(i.caller.bytes) + "_owner"
    let keyQueryOwner = addrAddOwner + "_owner"

    let ownerExist = match getInteger(this, keyQueryOwner){
        case a:Int => 1
        case _ => 0
    }

    if (myAddr == addrCallerOwner) then (
        WriteSet([DataEntry(keyQueryOwner, 1)])
    ) else throw("Nothing to do")
}

@Verifier(txx)
func verify() = {
    true
}
```

```
deploy(compile(env.file()))
```

```
prefixOwner
not
prefix_owner
```

see https://wavesexplorer.com/testnet/address/3MrJcvDviHvAXJrEEi45Gpj88VgduRVem8V

4. https://docs.wavesplatform.com/en/waves-api-and-sdk/waves-node-rest-api/example-transactions.html

```
@Callable(i)
func transfer(amount: Int, toAddr: String) = {
    let addrCaller = toBase58String(i.caller.bytes)

    if (amount < 0)
        then throw("Can't withdraw negative amount")
    else (
        if (fWithMod(prefixOwner,addrCaller) || fWithMod(prefixUser,addrCaller)) then
            TransferSet([ScriptTransfer(Address(fromBase58String(toAddr)), amount, unit)])
        else throw("You don't have privileges to make transfers.")
    )
}
```

```100000000```

```broadcast(invokeScript({dappAddress: address(env.accounts[1]), call:{function:"transfer",args:[{type:"integer", value:100000000},{type:"string", value: address(env.accounts[0])}]}, payment: {}))```

  broadcast(invokeScript({dappAddress: address(env.accounts[1]), call:{function:"deposit",args:[]}, payment: [{amount: 100000000, asset:null }]}))

broadcast(
  invokeScript({dappAddress: address(env.accounts[1]),
    call:{function:"transfer", args:[{type:"integer", value:100000000},{type:"string", value: address(env.accounts[0])}], payment: []}}))
